@model List<CM_APPLICATIONS.Models.rptYear>
<link href='~/Content/jquery.gridly.css' rel='stylesheet' type='text/css'>
@*<link href='~/Content/models.css' rel='stylesheet' type='text/css'>*@
<script src='~/Scripts/jquery.gridly.js' type='text/javascript'></script>
@*<script src='~/Scripts/models.js' type='text/javascript'></script>*@
<ol class="breadcrumb">
    <li><a href="ViewReportModel">Home</a></li>
    <li><a href="ViewReportModel">Model: @ViewBag.ModelName</a></li>
</ol>
<style type="text/css">
    .gridly {
        position: relative;
        width: 960px;
    }

    .brick.small {
        width: 140px;
        height: 140px;
    }

    .brick.large {
        width: 300px;
        height: 300px;
    }

    .brick {
        opacity: 1;
        cursor: grabbing;
        position: relative;
    }

        .brick .delete {
            display: block;
            color: #FFF;
            background: rgba(255, 255, 255, 0.2);
            width: 40px;
            height: 40px;
            top: 0;
            right: 0;
            position: absolute;
            text-align: center;
            line-height: 40px;
        }

        .brick.small {
            width: 140px;
            height: 140px;
        }

        .brick.large {
            width: 300px;
            height: 300px;
        }

        .brick.dragging {
            opacity: 0.8;
        }

        .brick:nth-child(20n + 1) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 2) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 3) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 4) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 5) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 6) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 7) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 8) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 9) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 10) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 11) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 12) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 13) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 14) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 15) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 16) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 17) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 18) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 19) {
            background: #2980B9;
        }

        .brick:nth-child(20n + 20) {
            background: #2980B9;
        }
</style>
<section class='ModelsList'>
    @Html.AntiForgeryToken()
    @if (Model == null)
    {
        <h3>NO DATA FOR THIS MODEL </h3>
    }
    else
    {
        <h3>PLEASE SELECT YEAR  </h3>
        <hr />
        <div class='gridly'>
            @foreach (var item in Model)
            {
                <div class='brick small modelSel' style="text-align:center;vertical-align:middle;">
                    @Html.Hidden("xYear", item.YearId)
                    @Html.Hidden("xUrl", Url.Action("ViewReport", "COPR16_RESULT_REPORT", new RouteValueDictionary(new { ModelStr = item.YearId })))
                    @Html.Label(item.YearId, htmlAttributes: new { @class = "control-label col-md-3", @style = "color:white;font-size:23px;width:100%;height:100%;padding-top:50px;cursor: pointer;" })
                    @*@Html.ActionLink(item.ModelId, "ViewReportYears", "COPR16_RESULT_REPORT", new RouteValueDictionary(new { ModelStr = item.ModelId }), htmlAttributes: new { @class = "control-label col-md-3", @style = "color:white;font-size:23px;width:100%;height:100%;padding-top:50px;cursor: pointer;" })*@
                    @*<a class='delete' href='#'>&times;</a>*@
                </div>}

        </div>
    }
</section>
<script>
    function setScreen() {
        var widthPx = $(window).width();
        var columnsSize = (widthPx / 140) * 2;
        var columnSet = columnsSize.toFixed(0) - 3;
        console.log(columnSet);
        $('.gridly').gridly({
            base: 60, // px
            gutter: 20, // px
            columns: columnSet
        });
    }

    $('.modelSel').click(function () {
        var url = $(this).find('#xUrl').val();
        var model = "@ViewBag.ModelName";
        var month = 1;
        var year = $(this).find('#xYear').val();
        var form = "<form id='form1' name='form1' action='" + url + "' method='POST'></form>";
        var obj1 = "<input id='Model' name='Model' type='hidden' value='" + model + "'/>";
        var obj2 = $('input[name = "__RequestVerificationToken"').clone();
        var obj3 = "<input id='Year' name='Year' type='hidden' value='" + year + "'/>";
        var obj4 = "<input id='Month' name='Month' type='hidden' value='" + month + "'/>";
        $('body').append(form);
        $('#form1').append(obj1);
        $('#form1').append(obj2);
        $('#form1').append(obj3);
        $('#form1').append(obj4);
        console.log(obj2);
        $('#form1').submit();
    });
    setScreen();
</script>